<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Republic Web3 App Store</title>
  <link rel="stylesheet" href="style.css" />
  <script src="libs/ui.js"></script>
  <script src="libs/wallet.js"></script>
  <script src="libs/ai.js"></script>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 font-sans">

  <!-- Hero -->
  <section class="bg-cover bg-center min-h-[60vh] flex items-center justify-center text-center relative" style="background-image: url('assets/bg-hero.jpg')">
    <div class="absolute inset-0 bg-black/60"></div>
    <div class="relative z-10 p-8 max-w-2xl">
      <img src="assets/logo.png" alt="Logo" class="mx-auto w-20 h-20 mb-4 rounded-full" />
      <h1 class="text-4xl font-bold mb-2">Republic Web3 App Store</h1>
      <p class="text-lg text-gray-300 mb-4">‡∏£‡∏ß‡∏°‡∏™‡∏∏‡∏î‡∏¢‡∏≠‡∏î‡πÅ‡∏≠‡∏õ DeFi | AI | NFT | GameFi ‡∏ö‡∏ô‡πÇ‡∏•‡∏Å Web3</p>
      <button onclick="connectWallet()" class="btn-primary px-6 py-2 rounded-lg bg-purple-600 hover:bg-purple-700 text-white font-semibold">üîó Connect Wallet</button>
    </div>
  </section>

  <!-- Search / Filter -->
  <div class="p-4 flex flex-wrap items-center justify-between gap-4">
    <input type="text" id="searchInput" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏≠‡∏õ..." class="w-full md:w-1/3 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800" />
    <select id="filterChain" class="px-4 py-2 rounded-lg border dark:border-gray-700 bg-white dark:bg-gray-800">
      <option value="">‡∏ó‡∏∏‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢</option>
      <option value="Ethereum">Ethereum</option>
      <option value="Polygon">Polygon</option>
    </select>
    <button onclick="toggleTheme()" class="btn-secondary">üåì ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ò‡∏µ‡∏°</button>
  </div>

  <!-- App Cards -->
  <div id="appList" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 p-4">
    <!-- Cards will be injected here by JS -->
  </div>

  <!-- Footer -->
  <footer class="text-center text-gray-400 py-6 text-sm border-t dark:border-gray-700 mt-10">
    ¬© 2025 Republic Web3 ¬∑ Powered by NovaVault & Community ‚ú®
  </footer>

  <!-- Script -->
  <script>
    let apps = [];

    async function loadApps() {
      const res = await fetch('data/apps.json');
      apps = await res.json();
      renderApps(apps);
    }

    function renderApps(appList) {
      const container = document.getElementById('appList');
      container.innerHTML = '';
      appList.forEach(app => {
        const card = document.createElement('div');
        card.className = 'bg-white dark:bg-gray-800 rounded-xl shadow hover:shadow-lg transition p-4 flex flex-col justify-between';
        card.innerHTML = `
          <img src="${app.icon}" class="w-16 h-16 mx-auto mb-4 rounded-full" />
          <h2 class="text-xl font-bold text-center mb-1">${app.name}</h2>
          <p class="text-center text-sm text-gray-500 mb-2">${app.description}</p>
          <div class="flex justify-center gap-2 mb-4">
            <span class="text-xs px-2 py-1 bg-blue-100 text-blue-600 rounded">${app.chain}</span>
            <span class="text-xs px-2 py-1 bg-green-100 text-green-600 rounded">${app.level || 'Lv.1'}</span>
          </div>
          <a href="app.html?id=${app.id}" class="mt-auto text-center block bg-purple-600 hover:bg-purple-700 text-white py-2 rounded">‡∏î‡∏π‡πÅ‡∏≠‡∏õ</a>
        `;
        container.appendChild(card);
      });
    }

    // Search / Filter
    document.getElementById('searchInput').addEventListener('input', () => {
      const keyword = document.getElementById('searchInput').value.toLowerCase();
      const filtered = apps.filter(app => app.name.toLowerCase().includes(keyword));
      renderApps(filtered);
    });

    document.getElementById('filterChain').addEventListener('change', () => {
      const chain = document.getElementById('filterChain').value;
      const filtered = chain ? apps.filter(app => app.chain === chain) : apps;
      renderApps(filtered);
    });

    loadApps();
  </script>
</body>
</html>
